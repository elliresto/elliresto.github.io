<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, width=device-width">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>elli</title>

    <meta name="description" content="elli est l’endroit idéal pour conjuguer plaisir de la table et de la scène. Découvrez un endroit unique où il fait bon de se retrouver seul ou entre ami pour vivre une panoplie d’expérience. laissez vous séduire par notre menu, nos spectacles ainsi que nous soirées thématiques.">

    <meta itemprop="name" content="elli">
    <meta itemprop="description" content="elli est l’endroit idéal pour conjuguer plaisir de la table et de la scène. Découvrez un endroit unique où il fait bon de se retrouver seul ou entre ami pour vivre une panoplie d’expérience. laissez vous séduire par notre menu, nos spectacles ainsi que nous soirées thématiques.">
    
    <meta property="og:url" content="https://ellirestaurant.com/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="elli">
    <meta property="og:description" content="elli est l’endroit idéal pour conjuguer plaisir de la table et de la scène. Découvrez un endroit unique où il fait bon de se retrouver seul ou entre ami pour vivre une panoplie d’expérience. laissez vous séduire par notre menu, nos spectacles ainsi que nous soirées thématiques.">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" sizes="16x16" href="/favicon.ico?v=2">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.1.2/handlebars.min.js"></script>
</head>

<body>
    <script id="menu_template" type="text/x-handlebars-template">
        <div id="food" class="table">
            {{#food.categories}}
                <div class="row">
                    <div class="column title category">
                        {{name}}
                    </div>
                    {{#groupBy values}}
                    <div class="column">
                        {{ text }}
                        {{#elements}}
                        <div class="element">
                            <div class="title">
                                <span class="text">{{name}}</span><span>{{price}}</span>
                            </div>
                            <div class="description text">
                                {{description}}
                            </div>
                        </div>
                        {{/elements}}
                    </div>
                    {{/groupBy}}
                </div>
            {{/food.categories}}
        </div>
        <div id="drinks" class="table hidden">
            {{#drinks.categories}}
                <div class="row">
                    <div class="column title category">
                        {{name}}
                    </div>
                    {{#groupBy values}}
                    <div class="column">
                        {{ text }}
                        {{#elements}}
                        <div class="element">
                            <div class="title">
                                <span class="text">{{name}}</span><span>{{price}}</span>
                            </div>
                            <div class="description text">
                                {{description}}
                            </div>
                        </div>
                        {{/elements}}
                    </div>
                    {{/groupBy}}
                </div>
            {{/drinks.categories}}
        </div>
    </script>

    <img id="switcher" onclick="switchMode()">
    <div id="anchors">
        <div class="links">
            <div class="link no-border">
                <a href="#concept">
                    le concept
                </a>
            </div>
            <div class="link no-border">
                <a href="#menu">
                    découvrez le menu
                </a>
            </div>
            <div class="link no-border">
                <a href="#nightlife">
                    vivez le nightlife
                </a>
            </div>
        </div>
    </div>
    <div id="main">
        <div id="infos" class="section">
            <div class="content">
                <img id="logo">
                <div class="block">
                    <h4>horaire</h4>
                    <p>
                        mardi. mercredi. jeudi : 16h-22h
                    </p>
                    <p>
                        vendredi. samedi 11h-00h
                    </p>
                    <p>
                        dimanche : 11h-22h
                    </p>
                </div>
                <div class="block">
                    <p>
                        * informez-vous de nos drags Brunch via FB.
                    </p>
                </div>
                <div class="block">
                    <h4>adresse</h4>
                    <p>
                        815 Rue Saint-Augustin, Québec, QC G1R 3N4
                    </p>
                </div>
                <div class="links">
                    <div class="link">
                        <a href="https://widgets.libroreserve.com/booking/2296e6f78ea5879/QC015577708729/seat" target="_blank">
                            réservez une table
                        </a>
                    </div>
                    <div class="link">
                        <a href="https://www.facebook.com/media/set/?vanity=elliresto&set=a.953328065133859" target="_blank">
                            promos hebdomadaires
                        </a>
                    </div>
                    <div class="link">
                        <a href="https://widgets.libroreserve.com/booking/menu/MU54188E3F" target="_blank">
                            commande en ligne
                        </a>
                    </div>
                </div>
            </div>
            <div class="circle"></div>
        </div>
        <div id="overlay"></div>
        <div id="concept"  class="section">
            <div class="circle"></div>
            <h1>elli est constitué des deux pronoms fondamentaux du genre soit ; elle et il.</h1>
            <div id="menu">
                <div class="links">
                    <div id="food-link" class="link border">
                        <a onclick="switchMenu('food', 'drinks')">
                            à manger
                        </a>
                    </div>
                    <div id="drinks-link" class="link">
                        <a onclick="switchMenu('drinks', 'food')">
                            à boire
                        </a>
                    </div>
                </div>
                <div id="menu-content"></div>
            </div>
        </div>
        <div id="nightlife" class="section">
            <h1>prolongez votre expérience au cabaret club le drague</h1>
            <div class="links">
                <div class="link">
                    <a href="http://ledrague.com/" target="_blank">
                        vivez le nightlife
                    </a>
                </div>
            </div>
        </div>
        <div id="footer" class="section">
            <div class="follow">
                <p>suivez-nous</p>
                <a href="https://www.facebook.com/elliresto/" target="_blank"><i class="fa fa-facebook fa-2x"></i></a>
                <a href="https://www.instagram.com/elli_resto/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
            </div>
            <a href="mailto:elliresto@gmail.com" target="_blank">elliresto@gmail.com</a>
        </div>
    </div>
    <script type="module">
        (async () => {
            const { getMenu } = await import('./js/api.js');
            const menu = await getMenu();

            Handlebars.registerHelper("groupBy", (values, block) => {
                let accum = '';
                const results = [];
                for(let i = 0; i < values.length; i++)
                {
                    results[i%3] = results[i%3] || [];
                    results[i%3].push(values[i]);
                }

                results.forEach((result) => {
                    accum += block.fn({ elements: result })
                })

                return accum;
            });

            const source = document.getElementById('menu_template').innerHTML;
            const template = Handlebars.compile(source);
            document.getElementById('menu-content').innerHTML = template(menu);
        })();
    </script>

    <script>
        const setMode = (mode) => {
            const src = mode === 'day' ? 'night': 'day'
            body.classList = [mode]
            document.getElementById('logo').src = `images/signature_elli_${src}.svg`
            document.getElementById('switcher').src = `images/button_${mode}.svg`
        }

        const switchMode = () => {
            const actualMode = document.getElementsByTagName('body')[0].classList[0]
            setMode(actualMode === 'day'? 'night': 'day')

            window.scrollTo(0,0)
        }

        const switchMenu = (show, hide) => {
            document.getElementById(hide).classList.add('hidden')
            document.getElementById(show).classList.remove('hidden')

            document.getElementById(`${show}-link`).classList.add('border')
            document.getElementById(`${hide}-link`).classList.remove('border')
        }

        const currentHour = new Date().getHours()
        const body = document.getElementsByTagName('body')[0]
        const mode = currentHour >= 7 && currentHour < 19 ? 'day' : 'night'
        setMode(mode)
    </script>
</body>

</html>
